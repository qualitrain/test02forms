<h5 class="mb-3 text-info">Componente <pre class="d-inline">form-templ-driven02</pre></h5>
<div class="p-3  border border-info rounded rounded-lg mt-3">
        <form (ngSubmit)="insertarDireccion() ; formDir.resetForm(); renovarPublicacionDir()" #formDir="ngForm">
            <div class="text-info font-weight-bold">Dirección:</div>
            <div class="form-row ">
                <div class="col-sm-12 col-md-8 col-lg-9  my-2">
                    <input type="text" class="form-control" placeholder="Calle" 
                    pattern="^[\wÁÉÍÓÚáéíóú][\wÁÉÍÓÚáéíóú\s'.]{2}[\wÁÉÍÓÚáéíóú\s]*"
                    [(ngModel)] ="direccionForm.calle" name="calle"
                    required #spyDir #inpCalle="ngModel">
                    <div [hidden]="inpCalle.valid || inpCalle.pristine" class="alert alert-danger">
                        La calle es un campo obligatorio. No se aceptan valores que contengan caracteres distintos de letras y números. 
                        Evite iniciar con espacios.
                    </div>
                    <i *ngIf="depuracionOn" class="font-smaller text-danger">
                        {{spyDir.className.replace('form-control','')}}</i>
                </div>
                <div class="col-6 col-sm my-2">
                    <input type="text" class="form-control" placeholder="Num Ext"
                    [(ngModel)] ="direccionForm.numeroExt" name="numeroExt" 
                    pattern="^\d\d*\-[A-Za-z]$|^\d\d*$"
                    required #inpNumeroExt="ngModel">
                    <div [hidden]="inpNumeroExt.valid || inpNumeroExt.pristine" class="alert alert-danger">
                        El n&uacute;mero exterior es un campo obligatorio. Los valores aceptados son de la forma 34, 34-A, 5876-B
                    </div>
                </div>
                <div class="col-6 col-sm my-2">
                    <input type="text" class="form-control" placeholder="Num Int"
                    [(ngModel)] ="direccionForm.numeroInt" name="numeroInt"
                    pattern="^$|^\d*$|^[w]+$"
                    #inpNumeroInt="ngModel">
                    <div [hidden]="inpNumeroInt.valid || inpNumeroInt.pristine" class="alert alert-danger">
                            No se aceptan valores que contengan caracteres distintos de letras y números
                        </div>
                    </div>
            </div>
            <div class="form-row ">
                <div class="col-sm-12 col-md-8 col-lg-9  my-2">
                    <input type="text" class="form-control " placeholder="Colonia"
                    pattern="^[\wÁÉÍÓÚáéíóú][\wÁÉÍÓÚáéíóú\s']{2}[\wÁÉÍÓÚáéíóú\s]*"
                    [(ngModel)] ="direccionForm.colonia" name="colonia"
                    required #spyColonia #inpColonia="ngModel">
                    <div [hidden]="inpColonia.valid || inpColonia.pristine" class="alert alert-danger">
                        La colonia es un campo obligatorio. No se aceptan valores que contengan caracteres distintos de letras y números.
                        Evite iniciar con espacios.
                    </div>
                    <i *ngIf="depuracionOn" class="font-smaller text-danger">
                    {{spyColonia.className.replace('form-control','')}}</i>
                </div>
                <div class="col-12 col-sm my-2">
                    <input type="text" class="form-control" placeholder="C.P."
                    [(ngModel)] ="direccionForm.cp" name="cp"
                    pattern="^\d{5}$"
                    required #inpCp="ngModel">
                    <div [hidden]="inpCp.valid || inpCp.pristine" class="alert alert-danger">
                        El c&oacute;digo postal es obligatorio y debe estar formado por 5 d&iacute;gitos
                    </div>
                </div>     
            </div>
            <div class="form-row">
                <div class="col-12 col-sm-6 col-md-4 my-2">
                    <select class="form-control" 
                      [(ngModel)]  = "direccionForm.cveEstado" name="iEstado" 
                      >
                        <option *ngFor="let edoI of estados; let i=index " value="{{i}}" >{{edoI}}</option>
                    </select>
                </div>
                <div class="col-12 col-sm-6 col-md-4 my-2">
                    <select class="form-control" 
                      [(ngModel)]  = "direccionForm.cveMunicipio" name="iMunicipio" 
                      >
                        <option *ngFor="let munI of municipios[direccionForm.cveEstado ]; let i=index " 
                                value="{{i}}" >{{munI}} </option>
                    </select>
                </div>
            </div>
            <div class="mt-5 form-row">
                <button class="btn btn-info ml-auto mr-auto col-12 col-sm-6 col-md-4 col-xl-3" 
                    [disabled] = "!formDir.form.valid"
                    type="submit" >Registrar</button>
            </div>
        </form>
</div>
<div *ngIf="direcciones.length" class="mt-3">
        <hr class="border-warning my-3">
        <table class="table table-warning table-bordered table-striped table-sm">
            <thead>
                <tr>
                    <th>Calle</th>
                    <th>Num Ext</th>
                    <th>Num Int</th>
                    <th>Colonia</th>
                    <th>C.P.</th>
                    <th>Estado</th>
                    <th>Municipio</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let dirI of direcciones">
                    <td scope="row">{{dirI.calle}}</td>
                    <td>{{dirI.numeroExt}}</td>
                    <td>{{dirI.numeroInt}}</td>
                    <td>{{dirI.colonia}}</td>
                    <td>{{dirI.cp}}</td>
                    <td>{{estados[dirI.cveEstado]}}</td>
                    <td>{{municipios[dirI.cveEstado][dirI.cveMunicipio]}}</td>
                </tr>
            </tbody>
            <caption>Direcciones capturadas</caption>
        </table>
    </div>